@use "../utils" as u;

.main {
  width: 100vw;
  height: 100vh;
  margin: 0;

  &.active {
    main {
        overflow: hidden !important;
    }
  }

  main {
    width: 100%;
    height: 100%;
    scroll-snap-type: x mandatory;
    overflow-x: scroll;
    overflow-y: hidden;
    display: flex;
    scroll-behavior: smooth;

    section {
      flex: none;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100vw;
      height: 100vh;
      scroll-snap-align: start;
      scroll-snap-stop: always;
      position: relative;
      background-position: center;
      background-repeat: no-repeat;
      background-size: 100% 100%;

      &:nth-of-type(1) {
        background-image: url(../image/main/section1/bg.webp);

        .main-lights {
          position: absolute;
          top: u.rem(-40);
          width: u.rem(850);
          z-index: 1;
        }
        .main-paint {
          position: absolute;
          top: u.rem(30);
          height: u.rem(450);
          z-index: 0;
        }

        .dont-near {
          position: absolute;
          top: u.rem(240);
          height: u.rem(350);
          z-index: 1;
        }
        .statue {
          position: absolute;
          top: u.rem(150);
          height: u.rem(700);
          cursor: pointer;
          z-index: 3;

          &.hover {
            animation-name: wiggle;
            animation-duration: 0.8s;
            animation-iteration-count: 1;
          }
        }   

        .photos-wrapper {
          //background: red;
          width: 410px;
          height: 100%;
          right: u.rem(-25);
          /* margin-top: -232px; */
          position: absolute;
          display: flex;
          flex-wrap: wrap;
          align-content: center;
          margin-top: u.rem(-300);
          z-index: 1;

          img {
            flex-basis: u.rem(150);
            object-fit: contain;
            transition: ease 1s;
            //height: 200px;

            &:nth-child(1) {
              margin-top: u.rem(-100);
            }
            &:nth-child(2) {
              margin-top: u.rem(75);
            }
            &:nth-child(3) {
              margin-top: u.rem(-200);
            }
            &:nth-child(4) {
              margin-top: u.rem(75);
            }

            &.hover {
              animation-name: wiggle;
              animation-duration: 1s;
              animation-iteration-count: 1;
            }
            &.hover2 {
              animation-name: wiggle2;
              animation-duration: 1s;
              animation-iteration-count: 1;
            }
          }
        }

        .third-party {
          z-index: 3;
          bottom: u.rem(0);
          position: absolute;
          height: u.rem(200);
        }

        .bg-hover {
          position: absolute;
          z-index: 2;
          width: 100%;
          height: 100%;

          &.hover {
            animation-name: blinker;
            animation-duration: 0.5s;
            animation-iteration-count: 2;
          }
        }
      }
      &:nth-of-type(2) {
        background-image: url(../image/main/section2/bg.jpg);
      }
      &:nth-of-type(3) {
        background-image: url(../image/main/section2/bg.jpg);
      }
    }
  }
}

.opening {

    position: fixed;
    top: 0;
    bottom: 0;
    right: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9;

    

  display: flex;
  align-items: center;
  justify-content: center;

    .kurtina {

        position: absolute;
        height: 100%;
        width: 50%;
        top: 0;
        bottom: 0;
        transition: ease 1s;

        background-image: url(../image/main/curtain.png);
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        
        &.kurt-1 {
            left: 0;
        }
        &.kurt-2 {
            right: 0;
            
        }
    }

    &.active {
        .kurtina {
            width: 0;
        }
    }

    span {
        position: absolute;
        font-size: u.rem(123);
        z-index: 10;
        color: white;
        cursor: pointer;
        animation: glow 1s ease-in-out infinite alternate;
    }
    
}

@keyframes wiggle {
  $wiggleDeg: 7deg;
  0% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate($wiggleDeg);
  }
  50% {
    transform: rotate(0);
  }
  75% {
    transform: rotate($wiggleDeg);
  }
  100% {
    transform: rotate(0);
  }
}

@keyframes wiggle2 {
  $wiggleDeg: 7deg;
  0% {
    transform: rotate(0deg);
    transform: rotate($wiggleDeg);
  }
  25% {
    transform: rotate(0);
  }
  50% {
    transform: rotate(0deg);
    transform: rotate($wiggleDeg);
  }
  75% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(0deg);
    transform: rotate($wiggleDeg);
  }
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}
@keyframes glow {
    from {
        transform: scale(1);
    }
    to {
        text-shadow: 0px 0px 10px #FFFFFF;
        transform: scale(1.2);
    }
}